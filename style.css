*{box-sizing:border-box}
body{margin:0;font-family:'Segoe UI',sans-serif;overflow:hidden}

/* BACKGROUND */
#background{
  position:fixed;
  inset:0;
  background:#ffd6e7;
  z-index:1;
}

/* FLOATING HEARTS */
.heart{
  position:absolute;
  width:18px;height:18px;
  background:pink;
  opacity:.35;
  transform:rotate(45deg);
  animation:float 16s linear infinite;
}
.heart::before,.heart::after{
  content:"";
  position:absolute;
  width:18px;height:18px;
  background:pink;border-radius:50%;
}
.heart::before{top:-9px}
.heart::after{left:-9px}

@keyframes float{
  0%{transform:translate(0,110vh) rotate(45deg)}
  50%{transform:translate(-40px,50vh) rotate(45deg)}
  100%{transform:translate(40px,-10vh) rotate(45deg)}
}

/* MESSAGE BOX (behind curtain) */
#box{
  position:fixed;
  top:50%;left:50%;
  transform:translate(-50%,-50%) scale(.96);
  background:white;
  padding:26px;
  border-radius:18px;
  width:88%;max-width:380px;
  text-align:center;
  z-index:5;
  box-shadow:0 0 25px rgba(0,0,0,.25);
  opacity:0;
  transition:opacity 1.6s ease, transform 1.6s ease;
}
#box.show{
  opacity:1;
  transform:translate(-50%,-50%) scale(1);
}

/* YES / NO */
.choice button{
  padding:14px 34px;
  border:none;
  border-radius:30px;
  font-size:18px;
  margin:10px;
  cursor:pointer;
  font-weight:700;
}
.yesBtn{background:#ff69b4;color:white}
.noBtn{background:#3b82f6;color:white}

/* DARK */
#dark{
  display:none;
  position:fixed;
  inset:0;
  background:black;
  z-index:10;
}

/* TOP BUTTON */
#actionBtn{
  display:none;
  position:fixed;
  top:14px;left:50%;
  transform:translateX(-50%);
  padding:15px 34px;
  border:none;border-radius:30px;
  font-size:18px;font-weight:bold;
  background:#ff69b4;color:white;
  z-index:20;
}

/* ================= CURTAIN FIX ================= */
/* IMPORTANT: parent is TRANSPARENT */
#curtain{
  position:fixed;
  inset:0;
  z-index:100;
  overflow:hidden;
  background:transparent; /* ðŸ”¥ NO SOLID COLOR */
}

/* only panels have color */
.curtain{
  position:absolute;
  top:0;
  width:50%;
  height:100%;
  background:
    repeating-linear-gradient(
      to right,
      rgba(255,255,255,.18),
      rgba(255,255,255,.18) 6px,
      rgba(0,0,0,.08) 12px
    ),
    linear-gradient(180deg,#ff5c8a,#c9184a);
  transition:transform 2.6s cubic-bezier(.77,0,.18,1);
}
.curtain.left{left:0}
.curtain.right{right:0}
#curtain.open .left{transform:translateX(-105%)}
#curtain.open .right{transform:translateX(105%)}

/* curtain text */
.curtainContent{
  position:absolute;
  top:18%;
  width:100%;
  text-align:center;
  color:white;
  transition:opacity 1.2s ease, transform 1.2s ease;
}
#curtain.open .curtainContent{
  opacity:0;
  transform:translateY(-20px);
}
.curtainContent h1{
  font-size:28px;
  text-shadow:0 0 14px rgba(255,255,255,.9);
}
#openCurtain{
  margin-top:24px;
  padding:16px 42px;
  border:none;
  border-radius:32px;
  background:linear-gradient(135deg,#ffd6e7,#ffb3c6);
  color:#7a102c;
  font-size:18px;
  font-weight:bold;
}

/* BANNER + NAME */
/* ===== BIRTHDAY BANNER FIX ===== */
#banner{
  display:none;
  position:fixed;
  top:140px;
  left:50%;
  transform:translateX(-50%) translateY(60px);
  opacity:0;
  transition:1.8s ease;
  z-index:15;
}

#banner.show{
  transform:translateX(-50%) translateY(0);
  opacity:1;
}

/* rope rows */
.string{
  display:flex;
  justify-content:center;
  gap:6px;
  margin-bottom:10px;
}

/* flag / banner triangles */
.string span{
  width:42px;
  height:42px;
  background:#5eead4;
  clip-path:polygon(50% 100%, 0 0, 100% 0);
  display:flex;
  justify-content:center;
  align-items:flex-start;
  padding-top:6px;
  font-weight:800;
  font-size:15px;
  color:#1f2937;
  box-shadow:0 4px 8px rgba(0,0,0,.15);
  animation:flagSwing 2.5s ease-in-out infinite;
}

/* alternate colors */
.string span:nth-child(even){
  background:#a3e635;
}

/* slight swing animation */
@keyframes flagSwing{
  0%{transform:rotate(-3deg)}
  50%{transform:rotate(3deg)}
  100%{transform:rotate(-3deg)}
}
/* CAKE */
#cake{
  display:none;
  position:fixed;
  left:50%;
  bottom:-300px;
  transform:translateX(-50%);
  width:240px;height:160px;
  background:linear-gradient(#5a2d0c,#3b1d0a);
  border-radius:22px;
  animation:cakeUp 2s forwards;
  z-index:25;
}
@keyframes cakeUp{to{bottom:40px}}

#cake::before{
  content:"";
  position:absolute;
  top:-18px;width:100%;
  height:30px;
  background:#fff0f5;
  border-radius:20px 20px 0 0;
}

/* ===== RANDOM FLYING BALLOONS (FIX) ===== */
.balloon{
  position:fixed;
  bottom:-80px;
  width:34px;
  height:44px;
  border-radius:50%;
  z-index:18;
  animation:flyBalloon 10s linear forwards;
}

@keyframes flyBalloon{
  0%{
    transform:translateX(0) translateY(0);
  }
  50%{
    transform:translateX(-40px) translateY(-60vh);
  }
  100%{
    transform:translateX(40px) translateY(-120vh);
  }
}
#cakeName{
  margin-top:70px;
  text-align:center;
  font-size:26px;
  color:white;
  font-family:cursive;
}

#plate{
  position:absolute;
  bottom:-18px;left:50%;
  transform:translateX(-50%);
  width:260px;height:26px;
  background:linear-gradient(#eee,#ccc);
  border-radius:50%;
}

/* CANDLES */
.candles{
  display:flex;
  justify-content:center;
  gap:18px;
  position:absolute;
  top:-50px;
  width:100%;
}
.candle{
  width:18px;height:45px;
  background:white;
  position:relative;
}
.candle::after{
  content:"";
  position:absolute;
  top:-22px;left:50%;
  width:14px;height:28px;
  transform:translateX(-50%);
  background:radial-gradient(circle,#fff,#ffe066,#ff9f1c,#ff3d00);
  border-radius:50% 50% 60% 60%;
  animation:flicker .25s infinite alternate;
}
@keyframes flicker{
  from{transform:translateX(-50%) rotate(-3deg)}
  to{transform:translateX(-50%) rotate(3deg)}
}
.candle.off::after{display:none}

#blowBtn{
  position:absolute;
  top:-110px;
  left:50%;
  transform:translateX(-50%);
  padding:8px 20px;
  border:none;
  border-radius:22px;
  background:#ff69b4;
  color:white;
}

/* ===== MITALI NAME BALLOONS (FINAL FIX) ===== */
#name{
  display:none;
  justify-content:center;
  gap:14px;
  margin-top:18px;
}

#name.show{
  display:flex;
}

/* balloon look */
.nameBalloon{
  width:48px;
  height:60px;
  border-radius:50%;
  background:linear-gradient(#ff69b4,#ff1493);
  color:white;
  font-size:22px;
  font-weight:800;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;

  /* ðŸ”¥ ENTRY + FLOAT (IMPORTANT) */
  animation:
    popIn 0.8s ease forwards,
    floatName 3s ease-in-out infinite;
  opacity:0;
}

/* string */
.nameBalloon::after{
  content:"";
  position:absolute;
  bottom:-10px;
  left:50%;
  width:2px;
  height:16px;
  background:white;
}

/* pop entry */
@keyframes popIn{
  from{
    opacity:0;
    transform:translateY(30px) scale(.6);
  }
  to{
    opacity:1;
    transform:translateY(0) scale(1);
  }
}

/* floating like real balloon */
@keyframes floatName{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-14px)}
}
